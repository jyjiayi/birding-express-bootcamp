<%- include('header', {title: 'Edit a note'}); -%>

<div class="sighting-form-container">
  <form action="/note/<%= noteId%>?_method=PUT" method="POST">
    <div class="row">
      <div class="col-sm-2 input-field">
        <label for="date">Date:</label><br />
      </div>
      <div class="col-sm-4 input-field">
        <input
          type="date"
          id="date"
          name="date"
          value="<%= note.date%>"
          required
        /><br />
      </div>
      <div class="col-sm-2 input-field">
        <label for="flock_size">Flock Size:</label><br />
      </div>
      <div class="col-sm-4 input-field">
        <input
          type="text"
          id="flock_size"
          name="flock_size"
          value="<%= note.flock_size%>"
          required
        /><br />
      </div>
    </div>
    <div class="row">
      <div class="col-sm-2 input-field">
        <label for="species">Species:</label><br />
      </div>
      <div class="col-sm-4 input-field">
        <select type="text" id="species" name="species" required>
          <% allSpeciesData.forEach((item) => { %>
           <%  if (item.id === note.species_id) { %>
          <option value="<%= item.id %>" selected><%= item.name %></option>
          <%} else { %>
          <option value="<%= item.id%>"><%= item.name%></option>
          <% }}) %></select
        ><br />
      </div>
    </div>


    <div class="row">
      <div class="col-sm-2 input-field">
        <p>Behaviour:</p>
        <br />
      </div>
      <div class="col-sm-10 input-field">
        <% for (let i=0; i<6; i+=1) { %>
        <div class="form-check form-check-inline">
          <% if (allBehaviour.includes(behaviourList[i].action)) { %>
          <input
            class="form-check-input"
            type="checkbox"
            name="behaviour"
            value="<%= behaviourList[i].id %>"
            id="behaviour"
            checked
          />
          <% } else { %> 
          <input
            class="form-check-input"
            type="checkbox"
            name="behaviour"
            value="<%= behaviourList[i].id %>"
            id="behaviour"
          />
        <% } %>
          <label class="form-check-label" for="behaviour">
            <%= behaviourList[i].action %></label
          >
        </div>
        <% } %>
      </div>
    </div>

    <div class="row">
      <div class="col-sm-2 input-field">
        <p>Behaviour:</p>
        <br />
      </div>
      <div class="col-sm-10 input-field">
        <% for (let i=6; i<behaviourList.length; i+=1) { %>
        <div class="form-check form-check-inline">
          <% if (allBehaviour.includes(behaviourList[i].action)) { %>
          <input
            class="form-check-input"
            type="checkbox"
            name="behaviour"
            value="<%= behaviourList[i].id %>"
            id="behaviour"
            checked
          />
          <% } else { %> 
          <input
            class="form-check-input"
            type="checkbox"
            name="behaviour"
            value="<%= behaviourList[i].id %>"
            id="behaviour"
          />
        <% } %>
          <label class="form-check-label" for="behaviour">
            <%= behaviourList[i].action %></label
          >
        </div>
        <% } %>
      </div>
    </div>
  </br>

    <!-- <div class="comments-input">
      <label for="comments">Comments:</label><br />
      <textarea type="text" id="comments" name="comments"></textarea><br />
    </div> -->
    <div>
      <input type="submit" value="Submit" />
    </div>
  </form>
</div>
<%- include('footer'); -%>
